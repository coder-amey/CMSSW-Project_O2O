 ################################################################### 
 # WARNING: this module is deprecated.                             # 
 # Please use CondCore.CondDB.CondDB_cfi.py                        # 
 ################################################################### 
CORAL/Services/ConnectionService Info Loading default plugin for coral::IAuthenticationService: COND/Services/RelationalAuthenticationService
CORAL/Services/ConnectionService Info The connection pool automatic cleanup thread is currently explicitly disabled
CORAL/Services/ConnectionService Info Loading default plugin for coral::IRelationalService: CORAL/Services/RelationalService
PluginManager Info PluginManager creating CORAL/Services/RelationalService component
PluginManager Info PluginManager needs to load CORAL/Services/RelationalService component
PluginManager Info PluginManager loaded RelationalService library
PluginManager Info PluginManager loaded CORAL/Services/RelationalService factory from RelationalService library
CORAL/Services/RelationalService Info Found plugin for RDBMS technology "coral" with native implementation
CORAL/Services/RelationalService Info Found plugin for RDBMS technology "frontier" with native implementation
CORAL/Services/RelationalService Info Found plugin for RDBMS technology "mysql" with native implementation
CORAL/Services/RelationalService Info Found plugin for RDBMS technology "oracle" with native implementation
CORAL/Services/RelationalService Info Found plugin for RDBMS technology "sqlite" with native implementation
CORAL/Services/RelationalService Info Default implementation for RDBMS technology "coral" is native
CORAL/Services/RelationalService Info Default implementation for RDBMS technology "frontier" is native
CORAL/Services/RelationalService Info Default implementation for RDBMS technology "mysql" is native
CORAL/Services/RelationalService Info Default implementation for RDBMS technology "oracle" is native
CORAL/Services/RelationalService Info Default implementation for RDBMS technology "sqlite" is native
PluginManager Info PluginManager creating CORAL/RelationalPlugins/sqlite component
PluginManager Info PluginManager needs to load CORAL/RelationalPlugins/sqlite component
PluginManager Info PluginManager loaded SQLiteAccess library
PluginManager Info PluginManager loaded CORAL/RelationalPlugins/sqlite factory from SQLiteAccess library
CORAL/Services/ConnectionService Debug No valid connection for string "sqlite_file:test_output.db" found in the pool. Creating a new connection.
CORAL/Services/ConnectionService Debug Trying to get a new update session on "sqlite_file:test_output.db"
CORAL/Services/ConnectionService Debug Connection parameters are: Retry-Period=10sec, Retry-Timeout=60sec, Connection-Timeout=300sec.
CORAL/Services/ConnectionService Info New connection to service "test_output.db" with connectionID=2a117fb8-c9ca-11e7-a7e0-02163e018850 has been connected
CORAL/Services/ConnectionService Info New user session with sessionID=2a1187e2-c9ca-11e7-a7e0-02163e018850 started on connectionID=2a117fb8-c9ca-11e7-a7e0-02163e018850 to service "test_output.db" for user "" in update mode
CORAL/Services/ConnectionService Debug A new connection to service "test_output.db" has been added in the active list. Id=2a117fb8-c9ca-11e7-a7e0-02163e018850
%MSG-i PopCon:  FillInfoPopConAnalyzer:Test1@ctor 15-Nov-2017 06:59:38 CET  pre-events
This is PopCon (Populator of Condition) v5.0.
Please report any problem and feature request through the JIRA project CMSCONDDB.

%MSG
Begin processing the 1st record. Run 1, Event 1, LumiSection 1 at 15-Nov-2017 06:59:38.497 CET
%MSG-i PopCon:  FillInfoPopConAnalyzer:Test1@endJob 15-Nov-2017 06:59:38 CET  PostEndRun
payload name FillInfo
%MSG
CORAL/RelationalPlugins/sqlite Debug SQLiteStatement::prepare BEGIN
CORAL/RelationalPlugins/sqlite Debug SQLiteStatement::prepare SELECT name FROM sqlite_master WHERE type='table' UNION ALL SELECT name FROM sqlite_temp_master WHERE type='table' ORDER BY 1
CORAL/RelationalPlugins/sqlite Debug SQLiteStatement::prepare CREATE TABLE "TAG" ( "NAME" TEXT ,"TIME_TYPE" TEXT  NOT NULL,"OBJECT_TYPE" TEXT  NOT NULL,"SYNCHRONIZATION" TEXT  NOT NULL,"END_OF_VALIDITY" ULONGLONG  NOT NULL,"DESCRIPTION" TEXT  NOT NULL,"LAST_VALIDATED_TIME" ULONGLONG  NOT NULL,"INSERTION_TIME" TIMESTAMP  NOT NULL,"MODIFICATION_TIME" TIMESTAMP  NOT NULL, PRIMARY KEY("NAME") )
CORAL/RelationalPlugins/sqlite Debug SQLiteStatement::prepare CREATE TABLE IF NOT EXISTS coral_sqlite_fk(id TEXT NOT NULL, name TEXT, tablename TEXT NOT NULL) ; 
CORAL/RelationalPlugins/sqlite Debug SQLiteStatement::prepare CREATE TABLE "PAYLOAD" ( "HASH" TEXT ,"OBJECT_TYPE" TEXT  NOT NULL,"DATA" BLOB  NOT NULL,"STREAMER_INFO" BLOB  NOT NULL,"VERSION" TEXT  NOT NULL,"INSERTION_TIME" TIMESTAMP  NOT NULL, PRIMARY KEY("HASH") )
CORAL/RelationalPlugins/sqlite Debug SQLiteStatement::prepare CREATE TABLE IF NOT EXISTS coral_sqlite_fk(id TEXT NOT NULL, name TEXT, tablename TEXT NOT NULL) ; 
CORAL/RelationalPlugins/sqlite Debug SQLiteStatement::prepare CREATE TABLE "IOV" ( "TAG_NAME" TEXT  NOT NULL,"SINCE" ULONGLONG  NOT NULL,"PAYLOAD_HASH" TEXT  NOT NULL,"INSERTION_TIME" TIMESTAMP  NOT NULL, PRIMARY KEY("TAG_NAME","SINCE","INSERTION_TIME"), FOREIGN KEY("TAG_NAME") REFERENCES TAG("NAME"), FOREIGN KEY("PAYLOAD_HASH") REFERENCES PAYLOAD("HASH") )
CORAL/RelationalPlugins/sqlite Debug SQLiteStatement::prepare CREATE TABLE IF NOT EXISTS coral_sqlite_fk(id TEXT NOT NULL, name TEXT, tablename TEXT NOT NULL) ; 
CORAL/RelationalPlugins/sqlite Debug SQLiteStatement::prepare CREATE TABLE "TAG_LOG" ( "TAG_NAME" TEXT  NOT NULL,"EVENT_TIME" TIMESTAMP  NOT NULL,"USER_NAME" TEXT  NOT NULL,"HOST_NAME" TEXT  NOT NULL,"COMMAND" TEXT  NOT NULL,"ACTION" TEXT  NOT NULL,"USER_TEXT" TEXT  NOT NULL, PRIMARY KEY("TAG_NAME","EVENT_TIME","ACTION"), FOREIGN KEY("TAG_NAME") REFERENCES TAG("NAME") )
CORAL/RelationalPlugins/sqlite Debug SQLiteStatement::prepare CREATE TABLE IF NOT EXISTS coral_sqlite_fk(id TEXT NOT NULL, name TEXT, tablename TEXT NOT NULL) ; 
CORAL/RelationalPlugins/sqlite Debug SQLiteStatement::prepare CREATE TABLE "GLOBAL_TAG" ( "NAME" TEXT ,"VALIDITY" ULONGLONG  NOT NULL,"DESCRIPTION" TEXT  NOT NULL,"RELEASE" TEXT  NOT NULL,"SNAPSHOT_TIME" TIMESTAMP  NOT NULL,"INSERTION_TIME" TIMESTAMP  NOT NULL, PRIMARY KEY("NAME") )
CORAL/RelationalPlugins/sqlite Debug SQLiteStatement::prepare CREATE TABLE IF NOT EXISTS coral_sqlite_fk(id TEXT NOT NULL, name TEXT, tablename TEXT NOT NULL) ; 
CORAL/RelationalPlugins/sqlite Debug SQLiteStatement::prepare CREATE TABLE "GLOBAL_TAG_MAP" ( "GLOBAL_TAG_NAME" TEXT  NOT NULL,"RECORD" TEXT  NOT NULL,"LABEL" TEXT  NOT NULL,"TAG_NAME" TEXT  NOT NULL, PRIMARY KEY("GLOBAL_TAG_NAME","RECORD","LABEL") )
CORAL/RelationalPlugins/sqlite Debug SQLiteStatement::prepare CREATE TABLE IF NOT EXISTS coral_sqlite_fk(id TEXT NOT NULL, name TEXT, tablename TEXT NOT NULL) ; 
CORAL/RelationalPlugins/sqlite Debug SQLiteStatement::prepare PRAGMA table_info("TAG")
CORAL/RelationalPlugins/sqlite Debug SQLiteStatement::prepare SELECT "TAG"."NAME" FROM "TAG" WHERE "TAG"."NAME" = :NAME_0 
CORAL/RelationalPlugins/sqlite Debug SQLiteStatement::bind variables NAME_0(string) fillinfo_test 
CORAL/RelationalPlugins/sqlite Debug SQLiteStatement::prepare SELECT "TAG"."NAME" FROM "TAG" WHERE "TAG"."NAME" = :NAME_0 
CORAL/RelationalPlugins/sqlite Debug SQLiteStatement::bind variables NAME_0(string) fillinfo_test 
%MSG-i PopCon:  FillInfoPopConAnalyzer:Test1@endJob 15-Nov-2017 06:59:38 CET  PostEndRun
destination DB: sqlite_file:test_output.db, target DB: sqlite_file:test_output.db
TAG: fillinfo_test; First writer to this new tag.
%MSG


Getting new objects...


%MSG-i FillInfoPopConSourceHandler:  FillInfoPopConAnalyzer:Test1@endJob  15-Nov-2017 06:59:38 CET PostEndRun
New tag fillinfo_test; from FillInfoPopConSourceHandler::getNewObjects
%MSG
CORAL/Services/ConnectionService Info Disable connection sharing
CORAL/Services/ConnectionService Info Loading default plugin for coral::IAuthenticationService: COND/Services/RelationalAuthenticationService
PluginManager Info PluginManager creating CORAL/RelationalPlugins/oracle component
PluginManager Info PluginManager needs to load CORAL/RelationalPlugins/oracle component
PluginManager Info PluginManager loaded OracleAccess library
PluginManager Info PluginManager loaded CORAL/RelationalPlugins/oracle factory from OracleAccess library
cond::RelationalAuthenticationService::credentials Debug Connecting to the credential repository in "oracle://cms_orcon_adg/CMS_CDB_KEYS" with principal "FILLINFO_O2O_TEST".
CORAL/RelationalPlugins/oracle Info Disable plan baseline use by ALTER SESSION SET OPTIMIZER_USE_SQL_PLAN_BASELINES=FALSE
CORAL/RelationalPlugins/oracle Debug Prepared statement : "ALTER SESSION SET OPTIMIZER_USE_SQL_PLAN_BASELINES=FALSE"
CORAL/RelationalPlugins/oracle Info CORAL_ORA_SKIP_TRANS_READONLY is not set: this session will use OCI serializable read-only transactions
CORAL/RelationalPlugins/oracle Debug Prepared statement : "SELECT P_ID, CRED0, CRED1, CRED2 FROM CMS_CDB_KEYS."COND_AUTHENTICATION" "COND_AUTHENTICATION" WHERE P_NAME = :P_NAME"
CORAL/RelationalPlugins/oracle Debug Prepared statement : "SELECT AUTHO.C_ROLE, AUTHO.C_SCHEMA, AUTHO.CRED3, CREDS.CONN_LABEL, CREDS.CRED4, CREDS.CRED5, CREDS.CRED6 FROM CMS_CDB_KEYS."COND_AUTHORIZATION" "AUTHO", CMS_CDB_KEYS."COND_CREDENTIAL" "CREDS" WHERE AUTHO.C_ID=CREDS.CONN_ID AND AUTHO.P_ID = :P_ID"
CORAL/Services/ConnectionService Debug No valid connection for string "oracle://cms_orcon_adg/CMS_RUNTIME_LOGGER" found in the pool. Creating a new connection.
CORAL/Services/ConnectionService Debug Trying to get a new read-only session on "oracle://cms_orcon_adg/CMS_RUNTIME_LOGGER"
CORAL/Services/ConnectionService Debug Connection parameters are: Retry-Period=10sec, Retry-Timeout=60sec, Connection-Timeout=300sec.
CORAL/Services/ConnectionService Info New connection to service "cms_orcon_adg" with connectionID=2a372542-c9ca-11e7-a7e0-02163e018850 has been connected
CORAL/RelationalPlugins/oracle Info Disable plan baseline use by ALTER SESSION SET OPTIMIZER_USE_SQL_PLAN_BASELINES=FALSE
CORAL/RelationalPlugins/oracle Debug Prepared statement : "ALTER SESSION SET OPTIMIZER_USE_SQL_PLAN_BASELINES=FALSE"
CORAL/RelationalPlugins/oracle Info CORAL_ORA_SKIP_TRANS_READONLY is not set: this session will use OCI serializable read-only transactions
CORAL/Services/ConnectionService Info New user session with sessionID=2a3a0d7a-c9ca-11e7-a7e0-02163e018850 started on connectionID=2a372542-c9ca-11e7-a7e0-02163e018850 to service "cms_orcon_adg" for user "CMS_COND_GENERAL_R" in read-only mode
CORAL/Services/ConnectionService Debug A new connection to service "cms_orcon_adg" has been added in the active list. Id=2a372542-c9ca-11e7-a7e0-02163e018850
CORAL/RelationalPlugins/oracle Debug Prepared statement : "SELECT /* user has no SELECT ANY TABLE privileges */ TABLE_NAME FROM ALL_TABLES WHERE OWNER=:OWNER"



--------------------------
Schema Description:
Schema Name: CMS_RUNTIME_LOGGER
All Tables:
	BUNCH_LUMI_SECTIONS
	BUNCH_MAP
	CMS_PAGE1_IMAGE
	CMS_PAGE1_MESSAGES
	CMS_PAGE1_MESSAGES_CURRENT
	DAILY_LUMINOSITY
	DAILY_LUMINOSITY_77
	DCS_STATUS_CURRENT
	DCS_STATUS_HISTORY
	DOWNTIME_CATEGORIES
	DOWNTIME_EVENTS
	DOWNTIME_EVENTS_COMMENTS
	DOWNTIME_EVENTS_HISTORY
	DOWNTIME_GROUPS
	FILL_ERA
	FILL_INITLUMIPERBUNCH
	INITIAL_PRESCALE_INDEX
	LUMI_SECTIONS
	RUNTIME_SUMMARY
	RUNTIME_TYPE
	WEEKLY_LUMINOSITY
	WEEKLY_LUMINOSITY_WT
	YEARLY_LUMINOSITY

Table Name:			BUNCH_LUMI_SECTIONS
Number of Columns:		8

Table Name:			BUNCH_MAP
Number of Columns:		3

Table Name:			CMS_PAGE1_IMAGE
Number of Columns:		4

Table Name:			CMS_PAGE1_MESSAGES
Number of Columns:		10

Table Name:			CMS_PAGE1_MESSAGES_CURRENT
Number of Columns:		11

Table Name:			DAILY_LUMINOSITY
Number of Columns:		8

Table Name:			DAILY_LUMINOSITY_77
Number of Columns:		8

Table Name:			DCS_STATUS_CURRENT
Number of Columns:		7

Table Name:			DCS_STATUS_HISTORY
Number of Columns:		7

Table Name:			DOWNTIME_CATEGORIES
Number of Columns:		6

Table Name:			DOWNTIME_EVENTS
Number of Columns:		14

Table Name:			DOWNTIME_EVENTS_COMMENTS
Number of Columns:		7

Table Name:			DOWNTIME_EVENTS_HISTORY
Number of Columns:		17

Table Name:			DOWNTIME_GROUPS
Number of Columns:		5

Table Name:			FILL_ERA
Number of Columns:		12

Table Name:			FILL_INITLUMIPERBUNCH
Number of Columns:		7

Table Name:			INITIAL_PRESCALE_INDEX
Number of Columns:		3

Table Name:			LUMI_SECTIONS
Number of Columns:		57

Table Name:			RUNTIME_SUMMARY
CORAL/RelationalPlugins/oracle Error Cannot handle the type of column RUNTIME in table CMS_RUNTIME_LOGGER.RUNTIME_SUMMARY
Exception encountered for table:  RUNTIME_SUMMARY
Table Name:			RUNTIME_TYPE
Number of Columns:		4

Table Name:			WEEKLY_LUMINOSITY
Number of Columns:		8

Table Name:			WEEKLY_LUMINOSITY_WT
Number of Columns:		8

Table Name:			YEARLY_LUMINOSITY
Number of Columns:		65

--------------------------



##### executing query on OMDS
CORAL/RelationalPlugins/oracle Debug Prepared statement : "SELECT LHCFILL, NBUNCHESBEAM1, NBUNCHESBEAM2, NCOLLIDINGBUNCHES, NTARGETBUNCHES, RUNTIME_TYPE_ID, PARTY1, PARTY2, CROSSINGANGLE, BETASTAR, INTENSITYBEAM1, INTENSITYBEAM2, ENERGY FROM CMS_RUNTIME_LOGGER."RUNTIME_SUMMARY" "RUNTIME_SUMMARY" WHERE BEGINTIME IS NOT NULL AND LHCFILL BETWEEN :"firstFillNumber" AND :"lastFillNumber" ORDER BY LHCFILL"
CORAL/RelationalPlugins/oracle Error ORA-01007: variable not in select list (Defining the output for variable : "CREATETIME" in "SELECT LHCFILL, NBUNCHESBEAM1, NBUNCHESBEAM2, NCOLLIDINGBUNCHES, NTARGETBUNCHES, RUNTIME_TYPE_ID, PARTY1, PARTY2, CROSSINGANGLE, BETASTAR, INTENSITYBEAM1, INTENSITYBEAM2, ENERGY FROM CMS_RUNTIME_LOGGER."RUNTIME_SUMMARY" "RUNTIME_SUMMARY" WHERE BEGINTIME IS NOT NULL AND LHCFILL BETWEEN :"firstFillNumber" AND :"lastFillNumber" ORDER BY LHCFILL")
CORAL/Services/ConnectionService Info User session with sessionID=2a3a0d7a-c9ca-11e7-a7e0-02163e018850 will be ended on connectionID=2a372542-c9ca-11e7-a7e0-02163e018850
CORAL/Services/ConnectionService Debug Connection id=2a372542-c9ca-11e7-a7e0-02163e018850 to service "cms_orcon_adg" has 0 session(s) opened.
CORAL/Services/ConnectionService Debug The active connection id=2a372542-c9ca-11e7-a7e0-02163e018850 to service "cms_orcon_adg" has been removed from the active list.
CORAL/Services/ConnectionService Debug The valid active connection id=2a372542-c9ca-11e7-a7e0-02163e018850 to service "cms_orcon_adg" has been moved to the idle list.
CORAL/RelationalPlugins/sqlite Debug SQLiteStatement::prepare COMMIT
----- Begin Fatal Exception 15-Nov-2017 06:59:38 CET-----------------------
An exception of category 'StdException' occurred while
   [0] Calling endJob for module FillInfoPopConAnalyzer/'Test1'
Exception Message:
A std::exception was thrown.
ORA-01007: variable not in select list (Defining the output for variable : "CREATETIME" in "SELECT LHCFILL, NBUNCHESBEAM1, NBUNCHESBEAM2, NCOLLIDINGBUNCHES, NTARGETBUNCHES, RUNTIME_TYPE_ID, PARTY1, PARTY2, CROSSINGANGLE, BETASTAR, INTENSITYBEAM1, INTENSITYBEAM2, ENERGY FROM CMS_RUNTIME_LOGGER."RUNTIME_SUMMARY" "RUNTIME_SUMMARY" WHERE BEGINTIME IS NOT NULL AND LHCFILL BETWEEN :"firstFillNumber" AND :"lastFillNumber" ORDER BY LHCFILL") ( CORAL : "OracleStatement" from "CORAL/RelationalPlugins/oracle" )
----- End Fatal Exception -------------------------------------------------
CORAL/Services/ConnectionService Info User session with sessionID=2a1187e2-c9ca-11e7-a7e0-02163e018850 will be ended on connectionID=2a117fb8-c9ca-11e7-a7e0-02163e018850
CORAL/Services/ConnectionService Debug Connection id=2a117fb8-c9ca-11e7-a7e0-02163e018850 to service "test_output.db" has 0 session(s) opened.
CORAL/Services/ConnectionService Debug The active connection id=2a117fb8-c9ca-11e7-a7e0-02163e018850 to service "test_output.db" has been removed from the active list.
CORAL/Services/ConnectionService Debug The valid active connection id=2a117fb8-c9ca-11e7-a7e0-02163e018850 to service "test_output.db" has been moved to the idle list.
CORAL/Services/ConnectionService Info Deleting the ConnectionPool
CORAL/Services/ConnectionService Info Connection to service "test_output.db" with connectionID=2a117fb8-c9ca-11e7-a7e0-02163e018850 will be disconnected
CORAL/Services/ConnectionService Info Connection to service "cms_orcon_adg" with connectionID=2a372542-c9ca-11e7-a7e0-02163e018850 will be disconnected
